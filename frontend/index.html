<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>心语晴空 - 动态心理报告</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <!-- Left Panel - Report Area -->
        <div class="report-panel" id="report-panel">
            <!-- Navigation Sidebar -->
            <nav class="navigation-sidebar">
                <div class="nav-item active" data-dimension="mind-overview">
                    <div class="nav-icon">🧠</div>
                    <span class="nav-text">心灵总览</span>
                </div>
                <div class="nav-item" data-dimension="big-five">
                    <div class="nav-icon">⭐</div>
                    <span class="nav-text">核心人格</span>
                </div>
                <div class="nav-item" data-dimension="core-values">
                    <div class="nav-icon">🪷</div>
                    <span class="nav-text">核心价值</span>
                </div>
                <div class="nav-item" data-dimension="mood-barometer">
                    <div class="nav-icon">🌤️</div>
                    <span class="nav-text">情绪晴雨表</span>
                </div>
                <div class="nav-item" data-dimension="growth-journal">
                    <div class="nav-icon">📖</div>
                    <span class="nav-text">成长印记</span>
                </div>
            </nav>

            <!-- Content Area -->
            <div class="content-area">
                <div class="dimension-content" id="mind-overview" style="display: block;">
                    <div class="content-header">
                        <h1 class="dimension-title">心灵总览</h1>
                        <p class="dimension-description">探索您内心世界的全貌，发现独特的心理画像</p>
                    </div>
                    
                    <div class="keyword-cloud-container">
                        <div class="keyword-cloud" id="keyword-cloud">
                            <!-- Keywords will be dynamically generated -->
                            <span class="keyword">探索者</span>
                            <span class="keyword">创造力</span>
                            <span class="keyword">同理心</span>
                            <span class="keyword">成长</span>
                            <span class="keyword">平衡</span>
                        </div>
                    </div>

                    <div class="insight-action-card">
                        <h3>核心洞察与行动指南</h3>
                        <div class="two-column-content">
                            <div class="column">
                                <h4>分析与解读</h4>
                                <p class="analysis-content">您展现出强烈的好奇心和开放性，这使您能够从多个角度看待问题。您的同理心让您在人际关系中表现出色，而您对成长的渴望推动着您不断前进。</p>
                            </div>
                            <div class="column">
                                <h4>今日微行动</h4>
                                <p class="action-content">今天尝试与一位陌生人进行一次有意义的对话，或者花10分钟时间反思今天学到的新知识。</p>
                                <button class="action-button">完成打卡</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other dimension contents will be hidden initially -->
                <div class="dimension-content" id="big-five" style="display: none;">
                    <div class="content-header">
                        <h1 class="dimension-title">核心人格：大五模型</h1>
                        <p class="dimension-description">基于科学的大五人格理论，深入了解您的性格特质</p>
                    </div>

                    <!-- Personality Type Overview -->
                    <div class="personality-overview-card">
                        <div class="personality-type-badge" id="personality-type-badge">
                            平衡型实干家
                        </div>
                        <p class="personality-description" id="personality-description">
                            正在加载您的人格描述...
                        </p>
                    </div>

                    <!-- Radar Chart Container -->
                    <div class="radar-chart-container">
                        <h3>人格特质雷达图</h3>
                        <div class="radar-chart-wrapper">
                            <canvas id="personality-radar-chart" width="400" height="400"></canvas>
                        </div>
                        <div class="radar-legend" id="radar-legend">
                            <!-- Legend items will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Detailed Analysis Sections -->
                    <div class="analysis-sections">
                        <!-- Lifestyle & Actions -->
                        <div class="analysis-section">
                            <h3>生活方式与行动建议</h3>
                            <div class="suggestions-grid">
                                <div class="suggestions-column">
                                    <h4>🏠 生活风格建议</h4>
                                    <ul class="suggestions-list" id="lifestyle-suggestions">
                                        <!-- Lifestyle suggestions will be populated -->
                                    </ul>
                                </div>
                                <div class="suggestions-column">
                                    <h4>🎯 行动建议</h4>
                                    <ul class="suggestions-list" id="action-suggestions">
                                        <!-- Action suggestions will be populated -->
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Development Plans -->
                        <div class="analysis-section">
                            <h3>个人发展规划</h3>
                            <div class="development-plans">
                                <div class="development-card short-term">
                                    <h4>📅 短期发展 (1-4周)</h4>
                                    <p id="development-short-term">正在加载短期发展计划...</p>
                                </div>
                                <div class="development-card long-term">
                                    <h4>🎯 长期发展 (1-6个月)</h4>
                                    <p id="development-long-term">正在加载长期发展计划...</p>
                                </div>
                                <div class="development-card career-integration" id="career-integration-card">
                                    <h4>💼 职业整合</h4>
                                    <p id="development-career-integration">正在加载职业整合建议...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Career Insights -->
                        <div class="analysis-section">
                            <h3>职业洞察</h3>
                            <div class="career-insights">
                                <div class="career-overview">
                                    <h4>💡 职业匹配概述</h4>
                                    <p id="career-overview">正在加载职业匹配分析...</p>
                                </div>
                                <div class="career-recommendations">
                                    <div class="career-column">
                                        <h4>✅ 推荐职业</h4>
                                        <ul class="career-list" id="career-recommendations">
                                            <!-- Career recommendations will be populated -->
                                        </ul>
                                    </div>
                                    <div class="career-column">
                                        <h4>⚠️ 建议避免</h4>
                                        <ul class="career-list avoid" id="career-avoid">
                                            <!-- Career avoidance suggestions will be populated -->
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Social Insights -->
                        <div class="analysis-section">
                            <h3>社交洞察</h3>
                            <div class="social-insights">
                                <div class="social-prediction">
                                    <h4>🤝 社交预测</h4>
                                    <p id="social-prediction">正在加载社交行为分析...</p>
                                </div>
                                <div class="social-tips">
                                    <h4>💬 社交策略</h4>
                                    <ul class="suggestions-list" id="social-tips">
                                        <!-- Social tips will be populated -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Disclaimer -->
                    <div class="disclaimer-card">
                        <p id="personality-disclaimer">
                            此分析由AI模型生成，仅供参考和自我探索，不构成专业的心理诊断或建议。如有需要，请咨询专业心理咨询师。
                        </p>
                    </div>
                </div>

                <div class="dimension-content" id="core-values" style="display: none;">
                    <div class="content-header">
                        <h1 class="dimension-title">核心价值：施瓦茨理论</h1>
                        <p class="dimension-description">探索驱动您行为和决策的核心价值观</p>
                    </div>

                    <!-- Values Hierarchy Display -->
                    <div class="values-hierarchy-container">
                        <h3>您的价值观排序</h3>
                        <div class="values-ranking" id="values-ranking">
                            <!-- Values will be dynamically populated -->
                        </div>
                    </div>

                    <!-- Values Circle Diagram -->
                    <div class="values-circle-container">
                        <h3>价值观图谱</h3>
                        <div class="values-circle" id="values-circle">
                            <svg width="300" height="300" viewBox="0 0 300 300">
                                <!-- Circle background -->
                                <circle cx="150" cy="150" r="120" fill="none" stroke="#EFEFEF" stroke-width="2"/>
                                <circle cx="150" cy="150" r="80" fill="none" stroke="#EFEFEF" stroke-width="1"/>
                                <circle cx="150" cy="150" r="40" fill="none" stroke="#EFEFEF" stroke-width="1"/>
                                
                                <!-- Value points will be added dynamically -->
                                <g id="value-points"></g>
                                
                                <!-- Center point -->
                                <circle cx="150" cy="150" r="4" fill="#B4C7D9"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Top Values Analysis -->
                    <div class="top-values-analysis">
                        <h3>核心价值观深度解析</h3>
                        <div class="values-cards-container" id="values-cards-container">
                            <!-- Top 3 values cards will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Values Analysis & Action Guide -->
                    <div class="values-insight-card">
                        <h3>价值观洞察与实践指南</h3>
                        <div class="two-column-content">
                            <div class="column">
                                <h4>价值观分析</h4>
                                <p class="values-analysis-content" id="values-analysis-content">
                                    正在加载您的价值观分析...
                                </p>
                            </div>
                            <div class="column">
                                <h4>实践指南</h4>
                                <p class="values-guide-content" id="values-guide-content">
                                    正在加载实践建议...
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="dimension-content" id="mood-barometer" style="display: none;">
                    <div class="content-header">
                        <h1 class="dimension-title">情绪晴雨表</h1>
                        <p class="dimension-description">追踪和理解您的情绪模式与变化</p>
                    </div>

                    <!-- Current Mood Status -->
                    <div class="current-mood-container">
                        <div class="mood-status-card">
                            <div class="mood-icon" id="mood-icon">🌤️</div>
                            <div class="mood-info">
                                <h3 class="current-mood-title">当前情绪状态</h3>
                                <div class="current-mood-text" id="current-mood-text">平静与满足</div>
                                <div class="mood-date" id="mood-date">2023年10月27日</div>
                            </div>
                            <div class="mood-score-display">
                                <div class="mood-score-circle">
                                    <div class="mood-score-number" id="mood-score-number">8.0</div>
                                    <div class="mood-score-label">情绪评分</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Mood Chart Container -->
                    <div class="mood-chart-container">
                        <div class="chart-header">
                            <h3 id="chart-title">近两周情绪波动趋势：积极且稳定</h3>
                            <p class="chart-subtitle" id="chart-subtitle">情绪评分范围1-10，分数越高代表情绪越积极、稳定。</p>
                        </div>
                        <div class="mood-chart-wrapper">
                            <canvas id="mood-chart" width="800" height="300"></canvas>
                        </div>
                        <div class="chart-legend">
                            <div class="legend-item">
                                <div class="legend-color mood-line"></div>
                                <span>情绪评分</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color trend-line"></div>
                                <span>趋势线</span>
                            </div>
                        </div>
                    </div>

                    <!-- Emotional Toolbox -->
                    <div class="emotional-toolbox">
                        <h3>情绪洞察与调节工具箱</h3>
                        <div class="toolbox-content">
                            <div class="toolbox-section">
                                <h4>🧠 你的情绪模式</h4>
                                <div class="mood-analysis" id="mood-analysis">
                                    正在加载情绪分析...
                                </div>
                            </div>
                            <div class="toolbox-section">
                                <h4>🛠️ 情绪工具箱</h4>
                                <div class="action-guide" id="mood-action-guide">
                                    正在加载行动指南...
                                </div>
                                <div class="toolbox-actions">
                                    <button class="toolbox-button" id="breathing-exercise">
                                        <span class="button-icon">🫁</span>
                                        呼吸练习
                                    </button>
                                    <button class="toolbox-button" id="mood-journal">
                                        <span class="button-icon">📝</span>
                                        情绪日记
                                    </button>
                                    <button class="toolbox-button" id="mindfulness">
                                        <span class="button-icon">🧘</span>
                                        正念冥想
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Mood History Summary -->
                    <div class="mood-summary-container">
                        <h3>情绪历史概览</h3>
                        <div class="mood-stats-grid">
                            <div class="mood-stat-card">
                                <div class="stat-icon">📈</div>
                                <div class="stat-content">
                                    <div class="stat-number" id="avg-mood-score">0.0</div>
                                    <div class="stat-label">平均评分</div>
                                </div>
                            </div>
                            <div class="mood-stat-card">
                                <div class="stat-icon">🎯</div>
                                <div class="stat-content">
                                    <div class="stat-number" id="stable-days">0</div>
                                    <div class="stat-label">稳定天数</div>
                                </div>
                            </div>
                            <div class="mood-stat-card">
                                <div class="stat-icon">⭐</div>
                                <div class="stat-content">
                                    <div class="stat-number" id="peak-mood">0.0</div>
                                    <div class="stat-label">最佳状态</div>
                                </div>
                            </div>
                            <div class="mood-stat-card">
                                <div class="stat-icon">📊</div>
                                <div class="stat-content">
                                    <div class="stat-number" id="tracking-days">0</div>
                                    <div class="stat-label">记录天数</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Disclaimer -->
                    <div class="disclaimer-card">
                        <p id="mood-disclaimer">
                            此分析由AI模型生成，仅供参考和自我探索，不构成专业的心理诊断或建议。如有需要，请咨询专业心理咨询师。
                        </p>
                    </div>
                </div>

                <div class="dimension-content" id="growth-journal" style="display: none;">
                    <div class="content-header">
                        <h1 class="dimension-title">成长印记</h1>
                        <p class="dimension-description">记录您的心理成长轨迹和重要时刻</p>
                    </div>

                    <!-- Growth Timeline Container -->
                    <div class="growth-timeline-container">
                        <h3>您的成长时间线</h3>
                        <div class="timeline-wrapper" id="timeline-wrapper">
                            <!-- Timeline items will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Keywords Cloud -->
                    <div class="growth-keywords-container">
                        <h3>成长关键词</h3>
                        <div class="growth-keywords-cloud" id="growth-keywords-cloud">
                            <!-- Keywords will be dynamically generated -->
                        </div>
                    </div>

                    <!-- Reflection Module -->
                    <div class="reflection-module">
                        <h3>回顾与展望</h3>
                        <div class="reflection-content">
                            <div class="reflection-prompt" id="reflection-prompt">
                                正在加载反思引导...
                            </div>
                            <div class="reflection-input-area" id="reflection-input-area">
                                <textarea 
                                    id="reflection-textarea" 
                                    placeholder="记录你的应对心得..."
                                    rows="4"
                                    style="display: none;"
                                ></textarea>
                                <div class="reflection-actions" style="display: none;">
                                    <button class="reflection-save-btn" id="reflection-save-btn">保存感悟</button>
                                    <button class="reflection-cancel-btn" id="reflection-cancel-btn">取消</button>
                                </div>
                                <button class="reflection-toggle-btn" id="reflection-toggle-btn">
                                    写下感悟
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Growth Statistics -->
                    <div class="growth-stats-container">
                        <div class="growth-stat-card">
                            <div class="stat-icon">📈</div>
                            <div class="stat-content">
                                <div class="stat-number" id="total-entries">0</div>
                                <div class="stat-label">成长记录</div>
                            </div>
                        </div>
                        <div class="growth-stat-card">
                            <div class="stat-icon">🎯</div>
                            <div class="stat-content">
                                <div class="stat-number" id="key-insights">0</div>
                                <div class="stat-label">关键洞察</div>
                            </div>
                        </div>
                        <div class="growth-stat-card">
                            <div class="stat-icon">⭐</div>
                            <div class="stat-content">
                                <div class="stat-number" id="milestone-count">0</div>
                                <div class="stat-label">里程碑</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Panel - Chat Area -->
        <div class="chat-panel" id="chat-panel">
            <div class="chat-header">
                <h2>AI 心理助手</h2>
                <p>随时与我对话，获得即时的心理疏导和建议</p>
            </div>

            <div class="message-stream" id="message-stream">
                <div class="message ai-message">
                    <div class="message-bubble">
                        您好！我是您的AI心理助手。我可以帮助您更好地理解心理报告，或者与您探讨任何心理健康相关的话题。有什么我可以帮助您的吗？
                    </div>
                </div>
            </div>

            <div class="suggestion-chips" id="suggestion-chips">
                <button class="suggestion-chip">解释我的人格特质</button>
                <button class="suggestion-chip">如何提升情绪管理</button>
                <button class="suggestion-chip">价值观冲突怎么办</button>
            </div>

            <div class="input-area">
                <div class="input-container">
                    <textarea 
                        id="chat-input" 
                        placeholder="输入您的问题或想法..."
                        rows="3"
                    ></textarea>
                    <button class="send-button" id="send-button">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22,2 15,22 11,13 2,9"></polygon>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Markdown Parser Library -->
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>
    <script src="main.js"></script>
</body>
</html>
